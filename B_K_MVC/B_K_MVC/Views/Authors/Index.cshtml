@using B_K_MVC.Extensions
@model IEnumerable<B_K_MVC.Models.Author>

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table class="table table-striped table-bordered">
    <thead>
    <tr>
        <th>@Html.DisplayNameFor(model => model.FirstName)</th>
        <th> @Html.DisplayNameFor(model => model.LastName)</th>
        <th>Actions</th>
    </tr>
    </thead>
    <tbody data-bind="foreach:authors">
    <tr>
        <td style="font-size: 22px" data-bind="text:FirstName"></td>
        <td data-bind="text:LastName"></td>
        <td>
            <a data-bind="attr :{href:'@Url.Action("Details")/'+Id}" class="btn btn-info">Details</a>
            <a data-bind="attr :{href:'@Url.Action("Edit")/'+Id}" class="btn btn-info">Edit</a>
            <a data-bind="attr :{href:'@Url.Action("Delete")/'+Id}" class="btn btn-warning">Delete</a>
        </td>
    </tr>
    </tbody>

</table>
@section scripts
{
    <script>
        function ViewModel(authors) {
            var self = this;
            self.authors = authors;
        };

        var viewModel = new ViewModel(@Html.HtmlConvertToJson(Model));
        ko.applyBindings(viewModel);
    </script>
}
